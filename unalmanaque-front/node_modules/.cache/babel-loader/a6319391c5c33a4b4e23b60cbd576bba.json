{"remainingRequest":"C:\\Users\\manut\\Documents\\GitHub 2021\\Ingedoft2\\Frontend\\UNALmanaque-Front\\unalmanaque-front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\manut\\Documents\\GitHub 2021\\Ingedoft2\\Frontend\\UNALmanaque-Front\\unalmanaque-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\manut\\Documents\\GitHub 2021\\Ingedoft2\\Frontend\\UNALmanaque-Front\\unalmanaque-front\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\manut\\Documents\\GitHub 2021\\Ingedoft2\\Frontend\\UNALmanaque-Front\\unalmanaque-front\\src\\views\\Activity.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\manut\\Documents\\GitHub 2021\\Ingedoft2\\Frontend\\UNALmanaque-Front\\unalmanaque-front\\src\\views\\Activity.vue","mtime":1619320148406},{"path":"C:\\Users\\manut\\Documents\\GitHub 2021\\Ingedoft2\\Frontend\\UNALmanaque-Front\\unalmanaque-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1618264774446},{"path":"C:\\Users\\manut\\Documents\\GitHub 2021\\Ingedoft2\\Frontend\\UNALmanaque-Front\\unalmanaque-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1618264772934},{"path":"C:\\Users\\manut\\Documents\\GitHub 2021\\Ingedoft2\\Frontend\\UNALmanaque-Front\\unalmanaque-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1618264774446},{"path":"C:\\Users\\manut\\Documents\\GitHub 2021\\Ingedoft2\\Frontend\\UNALmanaque-Front\\unalmanaque-front\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1618264851194}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjdGl2aXR5OiB7CiAgICAgICAgbmFtZTogbnVsbCwKICAgICAgICBzdGFydGRhdGU6IG51bGwsCiAgICAgICAgZW5kZGF0ZTogbnVsbCwKICAgICAgICBjb2xvcjogbnVsbCwKICAgICAgICBjYXRlZ29yeTogbnVsbCwKICAgICAgICBwcmlvcml0eTogbnVsbCwKICAgICAgICByZXBldGl0aW9uOiBudWxsLAogICAgICAgIGNhdGVnb3JpZXM6ICcnLAogICAgICAgIHdlZWs6IG51bGwsCiAgICAgICAgZGFpbHk6IDAsCiAgICAgICAgdXNlcjogbnVsbCwKICAgICAgICBkYXlzOiBudWxsCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRDYXRlZ29yaWVzKCk7CiAgICB0aGlzLmdldEN1cnJlbnRVc2VyKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRDYXRlZ29yaWVzOiBmdW5jdGlvbiBnZXRDYXRlZ29yaWVzKCkgewogICAgICBheGlvcy5nZXQoJy9hcGkvY2F0ZWdvcnknKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHRoaXMuYWN0aXZpdHkuY2F0ZWdvcmllcyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIGdldEN1cnJlbnRVc2VyOiBmdW5jdGlvbiBnZXRDdXJyZW50VXNlcigpIHsKICAgICAgdmFyIHVzZXIgPSBmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXI7CgogICAgICBpZiAodXNlcikgewogICAgICAgIGNvbnNvbGUubG9nKHVzZXIuZW1haWwpOwogICAgICAgIGF4aW9zLmdldCgnL2FwaS91c2VyLycsIHsKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICB1c2VyRW1haWw6IHVzZXIuZW1haWwKICAgICAgICAgIH0KICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgdGhpcy5hY3Rpdml0eS51c2VyID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGNyZWF0ZUFjdGl2aXR5OiBmdW5jdGlvbiBjcmVhdGVBY3Rpdml0eSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmFjdGl2aXR5LmRheXMpIHsKICAgICAgICB0aGlzLmFjdGl2aXR5LmRheXMuZm9yRWFjaChmdW5jdGlvbiAoZGF5KSB7CiAgICAgICAgICBfdGhpcy5hY3Rpdml0eS5kYWlseSArPSBwYXJzZUludChkYXkpOwogICAgICAgIH0pOwogICAgICB9CgogICAgICB2YXIgcG9zdCA9IHsKICAgICAgICBldmVudFN0YXJ0RGF0ZTogdGhpcy5hY3Rpdml0eS5zdGFydGRhdGUsCiAgICAgICAgZXZlbnRFbmREYXRlOiB0aGlzLmFjdGl2aXR5LmVuZGRhdGUsCiAgICAgICAgZXZlbnRSZXA6IHRoaXMuYWN0aXZpdHkucmVwZXRpdGlvbiwKICAgICAgICBldmVudE5hbWU6IHRoaXMuYWN0aXZpdHkubmFtZSwKICAgICAgICBldmVudENvbG9yOiB0aGlzLmFjdGl2aXR5LmNvbG9yLAogICAgICAgIGV2ZW50UHJpb3JpdHk6IHRoaXMuYWN0aXZpdHkucHJpb3JpdHksCiAgICAgICAgZXZlbnREYWlseTogdGhpcy5hY3Rpdml0eS5kYWlseSwKICAgICAgICBldmVudFdlZWs6IHRoaXMuYWN0aXZpdHkud2VlaywKICAgICAgICB1c2VyOiB0aGlzLnVzZXIKICAgICAgfTsKCiAgICAgIGlmICh0aGlzLmFjdGl2aXR5LnN0YXJ0ZGF0ZSAmJiB0aGlzLmFjdGl2aXR5LmVuZGRhdGUgJiYgdGhpcy5hY3Rpdml0eS5uYW1lKSB7CiAgICAgICAgY29uc29sZS5sb2cocG9zdCk7CiAgICAgICAgYXhpb3MucG9zdCgnYXBpL2V2ZW50JywgcG9zdCk7IC8vIEVzdGEgZXMgbGEgcnV0YSBxdWUgZXN0YWJhIGVuIGVsIGNvbnRyb2xhZG9yIDpjCiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["C:\\Users\\manut\\Documents\\GitHub 2021\\Ingedoft2\\Frontend\\UNALmanaque-Front\\unalmanaque-front\\src\\views\\Activity.vue"],"names":[],"mappings":";;AAmFA,OAAO,KAAP,MAAkB,OAAlB;AACA,OAAO,QAAP,MAAqB,UAArB;AACA,eAAe;AACb,EAAA,IADa,kBACN;AACL,WAAO;AACL,MAAA,QAAQ,EAAE;AACR,QAAA,IAAI,EAAE,IADE;AAER,QAAA,SAAS,EAAE,IAFH;AAGR,QAAA,OAAO,EAAE,IAHD;AAIR,QAAA,KAAK,EAAE,IAJC;AAKR,QAAA,QAAQ,EAAE,IALF;AAMR,QAAA,QAAQ,EAAE,IANF;AAOR,QAAA,UAAU,EAAE,IAPJ;AAQR,QAAA,UAAU,EAAE,EARJ;AASR,QAAA,IAAI,EAAE,IATE;AAUR,QAAA,KAAK,EAAC,CAVE;AAWR,QAAA,IAAI,EAAE,IAXE;AAYR,QAAA,IAAI,EAAE;AAZE;AADL,KAAP;AAgBD,GAlBY;AAmBb,EAAA,OAAO,EAAE,mBAAU;AACjB,SAAK,aAAL;AACA,SAAK,cAAL;AACD,GAtBY;AAyBf,EAAA,OAAO,EAAC;AACN,IAAA,aAAa,EAAE,yBAAU;AACrB,MAAA,KAAK,CAAC,GAAN,CAAU,eAAV,EACC,IADD,CACM,UAAU,QAAV,EAAoB;AACvB,aAAK,QAAL,CAAc,UAAd,GAA2B,QAAQ,CAAC,IAApC;AACF,OAHD;AAIF,KANI;AAOL,IAAA,cAAc,EAAE,0BAAU;AACxB,UAAM,IAAG,GAAG,QAAQ,CAAC,IAAT,GAAgB,WAA5B;;AACC,UAAG,IAAH,EAAQ;AACN,QAAA,OAAO,CAAC,GAAR,CAAY,IAAI,CAAC,KAAjB;AAEF,QAAA,KAAK,CAAC,GAAN,CAAU,YAAV,EAAwB;AAAE,UAAA,MAAM,EAAE;AAAE,YAAA,SAAS,EAAE,IAAI,CAAC;AAAlB;AAAV,SAAxB,EACC,IADD,CACM,UAAU,QAAV,EAAoB;AACvB,eAAK,QAAL,CAAc,IAAd,GAAqB,QAAQ,CAAC,IAA9B;AACF,SAHD;AAIF;AAIA,KApBI;AAqBN,IAAA,cAAc,EAAE,0BAAU;AAAA;;AACxB,UAAG,KAAK,QAAL,CAAc,IAAjB,EAAsB;AACtB,aAAK,QAAL,CAAc,IAAd,CAAmB,OAAnB,CAA2B,UAAA,GAAE,EAAK;AAChC,UAAA,KAAI,CAAC,QAAL,CAAc,KAAd,IAAuB,QAAQ,CAAC,GAAD,CAA/B;AACD,SAFD;AAGA;;AACA,UAAI,IAAG,GAAI;AACT,QAAA,cAAc,EAAE,KAAK,QAAL,CAAc,SADrB;AAET,QAAA,YAAY,EAAE,KAAK,QAAL,CAAc,OAFnB;AAGT,QAAA,QAAQ,EAAE,KAAK,QAAL,CAAc,UAHf;AAIT,QAAA,SAAS,EAAE,KAAK,QAAL,CAAc,IAJhB;AAKT,QAAA,UAAU,EAAE,KAAK,QAAL,CAAc,KALjB;AAMT,QAAA,aAAa,EAAE,KAAK,QAAL,CAAc,QANpB;AAOT,QAAA,UAAU,EAAE,KAAK,QAAL,CAAc,KAPjB;AAQT,QAAA,SAAS,EAAE,KAAK,QAAL,CAAc,IARhB;AAST,QAAA,IAAI,EAAE,KAAK;AATF,OAAX;;AAYA,UACI,KAAK,QAAL,CAAc,SAAd,IACA,KAAK,QAAL,CAAc,OADd,IAEA,KAAK,QAAL,CAAc,IAHlB,EAKG;AACC,QAAA,OAAO,CAAC,GAAR,CAAY,IAAZ;AACA,QAAA,KAAK,CAAC,IAAN,CAAW,WAAX,EAAwB,IAAxB,EAFD,CAE+B;AAChC;AACH;AAhDK;AAzBO,CAAf","sourcesContent":["<template>\r\n  <div class=\"d-flex flex-column align-items-center\">\r\n    <h3>Crear activididad</h3>\r\n    <div class=\"card col-10 col-md-6\">\r\n      <div class=\"card-header\">\r\n        <h5>Nueva Actividad:</h5>\r\n      </div>\r\n    </div>\r\n    <div class=\"card col-10 col-md-6\">\r\n      <div class=\"card-body\">\r\n        <form class=\"activity-form\" @submit.prevent=\"onSubmit\">\r\n          <label for=\"name\">Nombre:</label>\r\n          <input type=\"text\" class=\"form-control\" id=\"name\" placeholder=\"Nombre Actividad\" v-model=\"activity.name\">\r\n          <br>\r\n          <div class=\"row mb-3\">\r\n              <div class=\"form-group col-4\">\r\n                <label for=\"start-date\">Fecha inicial:</label>\r\n                <input type=\"date\" class=\"form-control\" id=\"start-date\" placeholder=\"\" v-model=\"activity.startdate\">\r\n              </div>\r\n              <div class=\"form-group col-4\">\r\n                <label for=\"end-date\">Fecha final:</label>\r\n                <input type=\"date\" class=\"form-control\" id=\"end-date\" placeholder=\"\" v-model=\"activity.enddate\">\r\n              </div>\r\n              <div class=\"form-group col-4\">\r\n                <label for=\"color\">Color:</label>\r\n                <input type=\"color\" class=\"form-control\" id=\"color\" placeholder=\"\" v-model=\"activity.color\">\r\n              </div>\r\n          </div>\r\n           <div class=\"row mb-3\">\r\n              <div class=\"form-group col-4\">\r\n                <label for=\"priority\">Prioridad:</label>\r\n                <input type=\"number\" class=\"form-control\" id=\"priority\" placeholder=\"0\" v-model=\"activity.priority\">\r\n              </div>\r\n              <div class=\"form-group col-8\">\r\n                <label for=\"category\">Categoria:</label>\r\n           <select class=\"form-control\" v-model='activity.category'>\r\n            <option v-for='(data, index) in activity.categories' :key='index' value=data>{{ data }}</option> <!--toca cambiarlo cuando el get the categories funcione :c-->\r\n            </select>\r\n              </div>\r\n              \r\n           </div>\r\n           <div class=\"row mb-3\">\r\n             <div class=\"form-group col-4\">\r\n                <br>\r\n                <label for=\"repetition\">Repetición:  <input type=\"checkbox\" value=\"\" v-model=\"activity.repetition\"></label>\r\n              </div>\r\n              <div v-if=activity.repetition class=\"form-group col-4\">\r\n                <select class=\"select\"  v-model=\"activity.days\" multiple>\r\n                  <option value=1000000>Lunes</option>\r\n                  <option value=0100000>Martes</option>\r\n                  <option value=0010000>Miercoles</option>\r\n                  <option value=0001000>Jueves</option>\r\n                  <option value=0000100>Viernes</option>\r\n                  <option value=0000010>Sabado</option>\r\n                  <option value=0000001>Domingo</option>\r\n                <label class=\"form-label select-label\">Dias</label>\r\n</select>\r\n              </div>\r\n              <div class=\"form-group col-4\">\r\n                <label for=\"priority\">Número de semanas:</label>\r\n                <input type=\"number\" class=\"form-control\" id=\"weeks\" placeholder=\"0\" v-model=\"activity.week\">\r\n              </div>\r\n\r\n           </div>\r\n           \r\n            <br>\r\n            <button @click=\"createActivity\" class=\"btn btn-primary\">Crear</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n    </div>\r\n</template>\r\n\r\n<style scoped>\r\n.activity-form .form-group{\r\n  text-align: left;\r\n}\r\n</style>\r\n\r\n\r\n\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport firebase from 'firebase';\r\nexport default {\r\n  data() {\r\n    return {\r\n      activity: {\r\n        name: null,\r\n        startdate: null,\r\n        enddate: null,\r\n        color: null,\r\n        category: null,\r\n        priority: null,\r\n        repetition: null,\r\n        categories: '',\r\n        week: null,\r\n        daily:0,\r\n        user: null,\r\n        days: null\r\n      },\r\n    };\r\n  },\r\n  created: function(){\r\n    this.getCategories();\r\n    this.getCurrentUser();\r\n  },\r\n \r\n  \r\nmethods:{\r\n  getCategories: function(){\r\n      axios.get('/api/category')\r\n      .then(function (response) {\r\n         this.activity.categories = response.data;\r\n      });\r\n   },\r\n   getCurrentUser: function(){\r\n     const user =firebase.auth().currentUser;\r\n      if(user){\r\n        console.log(user.email)\r\n\r\n      axios.get('/api/user/', { params: { userEmail: user.email} })\r\n      .then(function (response) {\r\n         this.activity.user = response.data;\r\n      });\r\n    }\r\n\r\n\r\n      \r\n   },\r\n  createActivity: function(){\r\n    if(this.activity.days){\r\n    this.activity.days.forEach(day => {\r\n      this.activity.daily += parseInt(day)\r\n    });\r\n    }\r\n    let post = {\r\n      eventStartDate: this.activity.startdate , \r\n      eventEndDate: this.activity.enddate, \r\n      eventRep: this.activity.repetition, \r\n      eventName: this.activity.name , \r\n      eventColor: this.activity.color, \r\n      eventPriority: this.activity.priority ,  \r\n      eventDaily: this.activity.daily, \r\n      eventWeek: this.activity.week,\r\n      user: this.user\r\n     };\r\n    \r\n    if (\r\n        this.activity.startdate &&\r\n        this.activity.enddate &&\r\n        this.activity.name \r\n        \r\n      ){\r\n        console.log(post)\r\n        axios.post('api/event', post) // Esta es la ruta que estaba en el controlador :c\r\n      }\r\n  },\r\n    \r\n\r\n}\r\n}\r\n</script>"],"sourceRoot":""}]}