{"remainingRequest":"C:\\Users\\manut\\Documents\\GitHub 2021\\Ingedoft2\\Frontend\\UNALmanaque-Front\\unalmanaque-front\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\manut\\Documents\\GitHub 2021\\Ingedoft2\\Frontend\\UNALmanaque-Front\\unalmanaque-front\\src\\views\\Activity.vue?vue&type=style&index=0&id=d5ef346e&scoped=true&lang=css","dependencies":[{"path":"C:\\Users\\manut\\Documents\\GitHub 2021\\Ingedoft2\\Frontend\\UNALmanaque-Front\\unalmanaque-front\\src\\views\\Activity.vue","mtime":1619320148406},{"path":"C:\\Users\\manut\\Documents\\GitHub 2021\\Ingedoft2\\Frontend\\UNALmanaque-Front\\unalmanaque-front\\node_modules\\css-loader\\dist\\cjs.js","mtime":1618264783573},{"path":"C:\\Users\\manut\\Documents\\GitHub 2021\\Ingedoft2\\Frontend\\UNALmanaque-Front\\unalmanaque-front\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1618264851232},{"path":"C:\\Users\\manut\\Documents\\GitHub 2021\\Ingedoft2\\Frontend\\UNALmanaque-Front\\unalmanaque-front\\node_modules\\postcss-loader\\src\\index.js","mtime":1618264798903},{"path":"C:\\Users\\manut\\Documents\\GitHub 2021\\Ingedoft2\\Frontend\\UNALmanaque-Front\\unalmanaque-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1618264774446},{"path":"C:\\Users\\manut\\Documents\\GitHub 2021\\Ingedoft2\\Frontend\\UNALmanaque-Front\\unalmanaque-front\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1618264851194}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouYWN0aXZpdHktZm9ybSAuZm9ybS1ncm91cHsNCiAgdGV4dC1hbGlnbjogbGVmdDsNCn0NCg=="},{"version":3,"sources":["C:\\Users\\manut\\Documents\\GitHub 2021\\Ingedoft2\\Frontend\\UNALmanaque-Front\\unalmanaque-front\\src\\views\\Activity.vue"],"names":[],"mappings":";AA0EA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACxB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAClB","file":"C:/Users/manut/Documents/GitHub 2021/Ingedoft2/Frontend/UNALmanaque-Front/unalmanaque-front/src/views/Activity.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div class=\"d-flex flex-column align-items-center\">\r\n    <h3>Crear activididad</h3>\r\n    <div class=\"card col-10 col-md-6\">\r\n      <div class=\"card-header\">\r\n        <h5>Nueva Actividad:</h5>\r\n      </div>\r\n    </div>\r\n    <div class=\"card col-10 col-md-6\">\r\n      <div class=\"card-body\">\r\n        <form class=\"activity-form\" @submit.prevent=\"onSubmit\">\r\n          <label for=\"name\">Nombre:</label>\r\n          <input type=\"text\" class=\"form-control\" id=\"name\" placeholder=\"Nombre Actividad\" v-model=\"activity.name\">\r\n          <br>\r\n          <div class=\"row mb-3\">\r\n              <div class=\"form-group col-4\">\r\n                <label for=\"start-date\">Fecha inicial:</label>\r\n                <input type=\"date\" class=\"form-control\" id=\"start-date\" placeholder=\"\" v-model=\"activity.startdate\">\r\n              </div>\r\n              <div class=\"form-group col-4\">\r\n                <label for=\"end-date\">Fecha final:</label>\r\n                <input type=\"date\" class=\"form-control\" id=\"end-date\" placeholder=\"\" v-model=\"activity.enddate\">\r\n              </div>\r\n              <div class=\"form-group col-4\">\r\n                <label for=\"color\">Color:</label>\r\n                <input type=\"color\" class=\"form-control\" id=\"color\" placeholder=\"\" v-model=\"activity.color\">\r\n              </div>\r\n          </div>\r\n           <div class=\"row mb-3\">\r\n              <div class=\"form-group col-4\">\r\n                <label for=\"priority\">Prioridad:</label>\r\n                <input type=\"number\" class=\"form-control\" id=\"priority\" placeholder=\"0\" v-model=\"activity.priority\">\r\n              </div>\r\n              <div class=\"form-group col-8\">\r\n                <label for=\"category\">Categoria:</label>\r\n           <select class=\"form-control\" v-model='activity.category'>\r\n            <option v-for='(data, index) in activity.categories' :key='index' value=data>{{ data }}</option> <!--toca cambiarlo cuando el get the categories funcione :c-->\r\n            </select>\r\n              </div>\r\n              \r\n           </div>\r\n           <div class=\"row mb-3\">\r\n             <div class=\"form-group col-4\">\r\n                <br>\r\n                <label for=\"repetition\">Repetición:  <input type=\"checkbox\" value=\"\" v-model=\"activity.repetition\"></label>\r\n              </div>\r\n              <div v-if=activity.repetition class=\"form-group col-4\">\r\n                <select class=\"select\"  v-model=\"activity.days\" multiple>\r\n                  <option value=1000000>Lunes</option>\r\n                  <option value=0100000>Martes</option>\r\n                  <option value=0010000>Miercoles</option>\r\n                  <option value=0001000>Jueves</option>\r\n                  <option value=0000100>Viernes</option>\r\n                  <option value=0000010>Sabado</option>\r\n                  <option value=0000001>Domingo</option>\r\n                <label class=\"form-label select-label\">Dias</label>\r\n</select>\r\n              </div>\r\n              <div class=\"form-group col-4\">\r\n                <label for=\"priority\">Número de semanas:</label>\r\n                <input type=\"number\" class=\"form-control\" id=\"weeks\" placeholder=\"0\" v-model=\"activity.week\">\r\n              </div>\r\n\r\n           </div>\r\n           \r\n            <br>\r\n            <button @click=\"createActivity\" class=\"btn btn-primary\">Crear</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n    </div>\r\n</template>\r\n\r\n<style scoped>\r\n.activity-form .form-group{\r\n  text-align: left;\r\n}\r\n</style>\r\n\r\n\r\n\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport firebase from 'firebase';\r\nexport default {\r\n  data() {\r\n    return {\r\n      activity: {\r\n        name: null,\r\n        startdate: null,\r\n        enddate: null,\r\n        color: null,\r\n        category: null,\r\n        priority: null,\r\n        repetition: null,\r\n        categories: '',\r\n        week: null,\r\n        daily:0,\r\n        user: null,\r\n        days: null\r\n      },\r\n    };\r\n  },\r\n  created: function(){\r\n    this.getCategories();\r\n    this.getCurrentUser();\r\n  },\r\n \r\n  \r\nmethods:{\r\n  getCategories: function(){\r\n      axios.get('/api/category')\r\n      .then(function (response) {\r\n         this.activity.categories = response.data;\r\n      });\r\n   },\r\n   getCurrentUser: function(){\r\n     const user =firebase.auth().currentUser;\r\n      if(user){\r\n        console.log(user.email)\r\n\r\n      axios.get('/api/user/', { params: { userEmail: user.email} })\r\n      .then(function (response) {\r\n         this.activity.user = response.data;\r\n      });\r\n    }\r\n\r\n\r\n      \r\n   },\r\n  createActivity: function(){\r\n    if(this.activity.days){\r\n    this.activity.days.forEach(day => {\r\n      this.activity.daily += parseInt(day)\r\n    });\r\n    }\r\n    let post = {\r\n      eventStartDate: this.activity.startdate , \r\n      eventEndDate: this.activity.enddate, \r\n      eventRep: this.activity.repetition, \r\n      eventName: this.activity.name , \r\n      eventColor: this.activity.color, \r\n      eventPriority: this.activity.priority ,  \r\n      eventDaily: this.activity.daily, \r\n      eventWeek: this.activity.week,\r\n      user: this.user\r\n     };\r\n    \r\n    if (\r\n        this.activity.startdate &&\r\n        this.activity.enddate &&\r\n        this.activity.name \r\n        \r\n      ){\r\n        console.log(post)\r\n        axios.post('api/event', post) // Esta es la ruta que estaba en el controlador :c\r\n      }\r\n  },\r\n    \r\n\r\n}\r\n}\r\n</script>"]}]}